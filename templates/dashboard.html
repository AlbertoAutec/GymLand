{% extends 'base.html' %}
{% block title %}Dashboard Utente{% endblock %}
{% block body %}
<div style="max-width: 700px; margin: 0 auto; padding: 2em;">
    <!-- Logo -->
    <div style="text-align:center; margin-bottom:2em;">
        <img src="{{ url_for('static', filename='assets/img/logo.png') }}" alt="GymLand Logo" style="height: 80px;">
    </div>
    <!-- Utente -->
    <div style="border:1px solid #ccc; border-radius:8px; margin-bottom:1em; padding:1em;">
        <h2 style="margin-top:0;">Utente</h2>
        <div><strong>{{ user.nome }} {{ user.cognome }}</strong></div>
        <div>Email: {{ user.email }}</div>
    </div>
    <!-- Abbonamenti -->
    <div style="border:1px solid #ccc; border-radius:8px; margin-bottom:1em; padding:1em;">
        <h2 style="margin-top:0;">Abbonamenti</h2>
        <ul style="padding-left:1em;">
            {% for abbonamento in abbonamenti %}
            <li>{{ abbonamento.tipo }} - Scadenza: {{ abbonamento.scadenza }}</li>
            {% else %}
            <li>Nessun abbonamento attivo</li>
            {% endfor %}
        </ul>
    </div>
    <!-- Allenamento -->
    <div style="border:1px solid #ccc; border-radius:8px; margin-bottom:1em; padding:1em;">
        <h2 style="margin-top:0;">Allenamento</h2>
        {% if scheda %}
            <div><strong>Scheda: {{ scheda.nome }}</strong></div>
            <ul style="padding-left:1em;">
                {% for esercizio in scheda.esercizi %}
                <li>{{ esercizio.nome }} - {{ esercizio.set }}x{{ esercizio.reps }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <div>Nessuna scheda attiva</div>
        {% endif %}
    </div>
    <!-- Pagamenti -->
    <div style="border:1px solid #ccc; border-radius:8px; margin-bottom:1em; padding:1em;">
        <h2 style="margin-top:0;">Pagamenti</h2>
        <ul style="padding-left:1em;">
            {% for pagamento in pagamenti %}
            <li>{{ pagamento.data }} - {{ pagamento.importo }}â‚¬ - {{ pagamento.stato }}</li>
            {% else %}
            <li>Nessun pagamento registrato</li>
            {% endfor %}
        </ul>
    </div>
    <!-- Profilo -->
    <div style="border:1px solid #ccc; border-radius:8px; margin-bottom:1em; padding:1em; text-align:center;">
        <a href="/profilo" style="display:inline-block; padding:0.5em 1.5em; border-radius:4px; background:#eee; color:#333; text-decoration:none;">Gestisci Profilo</a>
    </div>
    <!-- Login -->
    <div style="text-align:center; margin-top:2em;">
        <a href="/login" style="display:inline-block; padding:0.5em 1.5em; border-radius:4px; background:#007bff; color:#fff; text-decoration:none;">Login</a>
    </div>
</div>
{% endblock %}
